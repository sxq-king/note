## 防呆
运行 docsify 本地服务
> cd docs
>
> docsify serve

git add . #当前目录下所有文件添加暂存区

git commit -m "提交信息" # 提交暂存区到本地库

git push #推送远程库

## 1.npm查看配置信息

```.java
npm config list
```

## 2. npm设置镜像地址(taobao)

```.java
npm config set registry https://registry.npm.taobao.org
```

## 3. npm其他命令

```.java
#更新（更新到最新版本）
npm update 包名
#全局更新
npm update -g 包名
#卸载包
npm uninstall 包名
#全局卸载
npm uninstall -g 包名
```

## 4. Windows查看端口占用

```
netstat -ano 查询所有
 TCP    [::]:8081              [::]:0                 LISTENING       7508
  TCP    [::]:8082              [::]:0                 LISTENING       11648
  
netstat -aon|findstr "8080" 查询指定端口
  TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       10396
  TCP    10.1.212.171:52427     157.148.42.147:8080    ESTABLISHED     6964
  TCP    10.1.212.171:55341     60.29.240.116:8080     ESTABLISHED     12120
  TCP    10.1.212.171:55369     157.148.54.16:8080     ESTABLISHED     132
  TCP    10.1.212.171:55399     220.194.118.203:8080   ESTABLISHED     132
```

## 5. Windows杀死进程

```.java
taskkill /F /PID 7501（进程id） 
```

## 6. SpringBoot项目部署

> 官方推荐使用jar包部署，也就是使用springboot内置的tomcat运行，只需要服务器有对应版本jdk即可。

1. 将项目打成jar包
2. 将jar包发送到服务器上的任意目录 方便找
3. 添加安全组 开放项目使用的端口 我这用的是8080
4. 服务器运行

> linux通常运行方式是：
>
> `java -jar demo.jar`
>
> 这种方式特点是ssh窗口关闭时，程序中止运行.或者是运行时没法切出去执行其他任务，有没有办法让Jar在后台运行
>
> 解决方式 
>
> ​	方式一
>
> //nohup 意思是不挂断运行命令,当账户退出或终端关闭时,程序仍然运行 
>
> //当用 nohup 命令执行作业时，缺省情况下该作业的所有输出被重定向到nohup.out的文件中
>
>  //除非另外指定了输出文件。
>
> ` nohup java -jar test.jar &`
>
> ​	方式二 
>
> //这种方法会把日志文件输入到你指定的文件中，没有则会自动创建
>
> `nohup java -jar test.jar >temp.txt &`
>
> ​	其他相关命令：
>
> // 列出所有后台执行的作业，并且每个作业前面都有个编号。
>
> `jobs`
>
> // 如果想将某个作业调回前台控制，只需要 fg + 编号即可。(）	
>
> `fg + 编号`

	5. 关闭服务

> 重新部署
> netstat -lnp|grep 8090   #8090为你那jar包运行的端口
>
> kill -9 9932        #杀掉编号为9932的进程（请根据实际情况输入）

## 7.  ubuntu防火墙和端口相关操作

1. 关闭防火墙

``` java
sudo ufw disable
```

2. 开启防火墙

```java
sudo ufw enable
```

3. 开放或关闭指定端口

``` java
sudo ufw allow 3690 允许外部访问3690端口(svn)

sudo ufw allow from 192.168.1.111 允许此IP访问所有的本机端口

sudo ufw allow proto tcp from 192.168.0.0/24 to any port 22  允许指定的IP段访问特定端口

比如删除svn端口就是 sudo ufw delete allow 3690 
```

4. 查看防火墙状态

```java
ufw enable/disable：打开/关闭ufw

ufw status：查看已经定义的ufw规则

ufw default allow/deny：外来访问默认允许/拒绝
```

## 8 ubuntu安装docker

```java
# ubuntu 安装 docker ✔
	#确定内核版本大于3 
	uname -r 
	# 更新 apt-get
	sudo apt-get update 
	# 证书
	sudo apt-get install \
		apt-transport-https \
		ca-certificates \
		curl \
		gnupg \
		lsb-release
	# 修改成国内软件源 ，添加软件源的 GPG 密钥
		# 官方源
		# $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
		curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
	# 添加docker软件源
	echo \
  "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://mirrors.aliyun.com/docker-ce/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null		
    #更新 apt 软件包缓存
	sudo apt-get update
	# 安装 docker-ce
	sudo apt-get install docker-ce docker-ce-cli containerd.io
	# 启动docker
	sudo systemctl enable docker
	sudo systemctl start docker
	# 建立docker组 不然其他用户不能访问docker
	sudo groupadd docker
	# 将用户加入docker组
	sudo usermod -aG docker 用户名
	# 测试安装是否成功
	sudo docker run --rm hello-world
docker运行runtime镜像 ✔
	docker load -i 镜像名.tar
```

## 9.centos安装jdk

```java
不用openjdk 
	使用这个镜像站 https://repo.huaweicloud.com/java/jdk/8u201-b09/
centos使用wget下载
	wget https://repo.huaweicloud.com/java/jdk/8u201-b09/jdk-8u201-linux-x64.tar.gz
将jar包放到指定目录
	使用tar解压
		tar -zxvf jdk-8u201-linux-x64.tar.gz
	配置环境变量
		全局变量
			vim /etc/profile
		使用shift + G 让光标跳到最后 加入以下 记得修改JAVA_HOME（jdk的解压路径）
			#java enviroment
			export JAVA_HOME=/app/jdk1.8.0_201
			export CLASSPATH=.:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar
			export PATH=$PATH:${JAVA_HOME}/bin
	使配置文件生效
		source /etc/profile
```

## 10. docker中修改mysql密码

1. 进入docker中mysql ； docker exec -it 容器id或/容器名 /bin/bash
2. 进入mysql；  mysql -uroot -p 密码
3. 使用mysql库； use mysql
4. 查看版本，不同版本修改方式不一样； select version();
5. 修改密码。版本5.7之前；  update user set password=password(“123456”) where user=‘root’;
6. 修改密码。版本5.7之后； update user set authentication_string=password(“123456”) where user=‘root’;
7. 修改密码。版本8.0以上；ALTER USER ‘root’ IDENTIFIED BY ‘123456@Test’;（注意密码要有数字，大小写字母，和特殊符号，要不密码会验证不通过）
8. 刷新权限 ； flush privileges
9. 重启服务； docker restart mysql
